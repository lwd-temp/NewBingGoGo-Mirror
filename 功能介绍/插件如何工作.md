# 插件如何工作

## bing官方接口

### 基本接口

bing官方的聊天接口主要是这两个。

接口1
~~~
https://www.bing.com/turing/conversation/create
~~~

接口2
~~~
wss://sydney.bing.com/sydney/ChatHub
~~~


`接口1`用于创建聊天，`接口2`用于实际的聊天服务。

微软对于`接口2`是没有限制的，任何地区都是可以直接使用的。

`接口1`因为网络问题，或各种原因的问题国内基本无法访问，国外也时不时停止服务。为解决`接口1`的问题，就需要魔法链接的帮助。

### 更多接口

接口3 -> 创建画图
~~~
https://www.bing.com/images/create
~~~

接口4 -> 获取画图
~~~
https://www.bing.com/images/create/async/results/{id}
~~~

接口5 -> 检索
~~~
https://www.bing.com/search
~~~

接口6 -> 图片
~~~
https://tse2.mm.bing.net/th/id/{id}
~~~



## 魔法链接

### 创建聊天API替代

魔法链接实际上是对`接口1`的替代，当然不仅仅是`接口1`的替代，还有其他功能。但是主要功能就是对`接口1`的替代。

例如如果魔法链接填写
`https://xxx.xxxx.xxx/`
那么插件就会用
`https://xxx.xxxx.xxx/turing/conversation/create`
作为创建聊天的api。


如果填写`https://www.bing.com/`那么插件会使用`https://www.bing.com/turing/conversation/create`作为创建聊天的api，也就是bing官方的`接口1`.

### 创建画图和获取画图API替代

`接口3`和`接口4`国内也是基本无法访问的，同样需要替代。

### 聊天加速或减速

当在插件中将聊天模式修改为魔法聊天时，插件会使用`https://xxx.xxxx.xxx/sydney/ChatHub`来代替`接口2`，这样可以起到一定的加速作用，也可能是减速。







